'use strict';window.addEventListener("load",elements_listener());function get_cookie(a){return(a=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):void 0}
async function elements_listener(){var a=document.querySelector("#constructorCorrugation");set_empty_corrugation(a);(a=document.querySelector("#constructorTypes"))&&a.addEventListener("click",get_types);if(a=document.querySelector("#constructorGroupsEndFittings1"))a.addEventListener("click",get_groups_and_fittings),a.addEventListener("change",()=>{var b=document.querySelector("#constructorTypeFitting1");set_empty_typefitting(b);clear_image("#constructorImg1");b=document.querySelector("#constructorTypeFittingA1");
set_empty_typefitting(b);clear_image("#constructorImgA1")});if(a=document.querySelector("#constructorGroupsEndFittings2"))a.addEventListener("click",get_groups_and_fittings),a.addEventListener("change",()=>{var b=document.querySelector("#constructorTypeFitting2");set_empty_typefitting(b);clear_image("#constructorImg2");b=document.querySelector("#constructorTypeFittingA2");set_empty_typefitting(b);clear_image("#constructorImgA2")});if(a=document.querySelector("#constructorGroupsEndFittingsA1"))a.addEventListener("click",
get_groups_and_fittings),a.addEventListener("change",()=>{let b=document.querySelector("#constructorTypeFittingA1");set_empty_typefitting(b);clear_image("#constructorImgA1")});if(a=document.querySelector("#constructorGroupsEndFittingsA2"))a.addEventListener("click",get_groups_and_fittings),a.addEventListener("change",()=>{let b=document.querySelector("#constructorTypeFittingA2");set_empty_typefitting(b);clear_image("#constructorImgA2")});if(a=document.querySelector("#constructorDiameters"))a.addEventListener("click",
get_diameters),a.addEventListener("change",()=>{set_empty_typefitting(document.querySelector("#constructorTypeFitting1"));clear_image("#constructorImg1");set_empty_typefitting(document.querySelector("#constructorTypeFitting2"));clear_image("#constructorImg2");set_empty_pressures(document.querySelector("#constructorPressures"));set_empty_innerscreen(document.querySelector("#constructorInnerScreen"));set_empty_braids(document.querySelector("#constructorBraids"));set_empty_corrugation(document.querySelector("#constructorCorrugation"));
get_corrugation()});if(a=document.querySelector("#constructorPressures"))a.addEventListener("click",get_pressures),a.addEventListener("change",()=>{set_empty_typefitting(document.querySelector("#constructorTypeFitting1"));clear_image("#constructorImg1");set_empty_typefitting(document.querySelector("#constructorTypeFitting2"));clear_image("#constructorImg2");set_empty_typefitting(document.querySelector("#constructorTypeFittingA1"));set_empty_typefitting(document.querySelector("#constructorTypeFittingA2"));
set_empty_braids(document.querySelector("#constructorBraids"));set_empty_corrugation(document.querySelector("#constructorCorrugation"));get_corrugation()});(a=document.querySelector("#constructorCorrugation"))&&a.addEventListener("change",get_image_part_of_product);(a=document.querySelector("#constructorLengthsHoses"))&&a.addEventListener("click",get_lengths);(a=document.querySelector("#constructorInnerScreen"))&&a.addEventListener("click",get_innerscreen);(a=document.querySelector("#constructorOuterShells"))&&
a.addEventListener("click",get_outershells);(a=document.querySelector("#constructorBraids"))&&a.addEventListener("click",get_braids);if(a=document.querySelector("#constructorMaterials1"))a.addEventListener("click",get_materials),a.addEventListener("change",()=>{let b=document.querySelector("#constructorTypeFitting1");set_empty_typefitting(b);clear_image("#constructorImg1")});if(a=document.querySelector("#constructorMaterials2"))a.addEventListener("click",get_materials),a.addEventListener("change",
()=>{let b=document.querySelector("#constructorTypeFitting2");set_empty_typefitting(b);clear_image("#constructorImg2")});if(a=document.querySelector("#constructorMaterialsA1"))a.addEventListener("click",get_materials),a.addEventListener("change",()=>{let b=document.querySelector("#constructorTypeFittingA1");set_empty_typefitting(b);clear_image("#constructorImgA1")});if(a=document.querySelector("#constructorMaterialsA2"))a.addEventListener("click",get_materials),a.addEventListener("change",()=>{let b=
document.querySelector("#constructorTypeFittingA2");set_empty_typefitting(b);clear_image("#constructorImgA2")});if(a=document.querySelector("#constructorTypeFitting1"))a.addEventListener("click",get_types_fittings1),a.addEventListener("change",get_image_part_of_product);if(a=document.querySelector("#constructorTypeFitting2"))a.addEventListener("click",get_types_fittings2),a.addEventListener("change",get_image_part_of_product);if(a=document.querySelector("#constructorTypeFittingA1"))a.addEventListener("click",
get_types_fittingsA1),a.addEventListener("change",get_image_part_of_product);if(a=document.querySelector("#constructorTypeFittingA2"))a.addEventListener("click",get_types_fittingsA2),a.addEventListener("change",get_image_part_of_product);(a=document.querySelector("#constructorCopyA1"))&&a.addEventListener("click",copy_from_K1);(a=document.querySelector("#constructorClearForm"))&&a.addEventListener("click",clear_form);(a=document.querySelector("#constructorOrder"))&&a.addEventListener("click",create_product)}
function set_empty_pressures(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u0420\u0430\u0431\u043e\u0447\u0435\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435, PN(\u0411\u0430\u0440) -";a.appendChild(b)}function set_empty_braids(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u041e\u043f\u043b\u0435\u0442\u043a\u0430 -";a.appendChild(b)}
function set_empty_outershells(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u041d\u0430\u0440\u0443\u0436\u043d\u0430\u044f \u043e\u0431\u043e\u043b\u043e\u0447\u043a\u0430 -";a.appendChild(b)}function set_empty_innerscreen(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u044d\u043a\u0440\u0430\u043d -";a.appendChild(b)}
function set_empty_corrugation(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u0413\u043e\u0444\u0440\u0430 -";a.appendChild(b)}function set_empty_typefitting(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u0422\u0438\u043f \u043a\u043e\u043d\u0446\u0435\u0432\u043e\u0439 \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u044b -";a.appendChild(b)}
function set_empty_fittings(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043e\u043d\u0446\u0435\u0432\u043e\u0439 \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u044b -";a.appendChild(b)}function set_empty_materials(a){a.innerHTML="";let b=document.createElement("option");b.value="";b.textContent="- \u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b -";a.appendChild(b)}
async function get_types(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListProductType"}};c=await fetch("/constructor_api/v1/proxy_request/",c);if(c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);
else for(let d of c.list)a=document.createElement("option"),a.value=d.Code,a.textContent=d.Value,b.appendChild(a);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP types: ${c.status}`)}}
async function get_groups_and_fittings(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListGroupsEndFittings"}};c=await fetch("/constructor_api/v1/proxy_request/",c);if(c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);
else for(let d of c.list)a=document.createElement("option"),a.value=d.Code,a.textContent=d.Value,b.appendChild(a);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP groups_and_fittings ${a}: `+c.status)}}
async function get_diameters(){let a=document.querySelector("#constructorDiameters");if(!(1<a.childElementCount)){var b={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListDiameters"}};b=await fetch("/constructor_api/v1/proxy_request/",b);if(b.ok||401==b.status)if(b=await b.json(),0===Object.keys(b).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442");
else for(let c of b.list)b=document.createElement("option"),b.value=c.Code,b.textContent=c.Value,a.appendChild(b);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP diameters: "+b.status)}}
async function get_pressures(){let a=document.querySelector("#constructorPressures");if(!(1<a.childElementCount)){var b=document.querySelector("#constructorDiameters");if(b&&b.value)if(b=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListPressureHoseStartSelection&diameter=${b.value}`,b={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:b}},b=await fetch("/constructor_api/v1/proxy_request/",b),
b.ok||401==b.status)if(b=await b.json(),0===Object.keys(b).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442");else for(let c of b.list)b=document.createElement("option"),b.value=c.Code,b.textContent=c.Value,a.appendChild(b);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: ${b.status}`)}}
async function get_corrugation(){let a=document.querySelector("#constructorCorrugation");if(!(1<a.childElementCount)){var b=document.querySelector("#constructorDiameters").value,c=document.querySelector("#constructorPressures").value,d="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getCorrugation";b&&c&&(d+=`&diameter=${b}&pressure=${c}`);b={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(d)}};
b=await fetch("/constructor_api/v1/proxy_request/",b);b.ok||401==b.status?(b=await b.json(),0===Object.keys(b).length?console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0432 #constructorCorrugation"):"0"!==b.Code&&(c=document.createElement("option"),c.value=b.Code,c.textContent=b.Value,a.appendChild(c),a.dispatchEvent(new Event("change")))):console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: ${b.status}`)}}
async function get_innerscreen(){let a=document.querySelector("#constructorInnerScreen");if(!(1<a.childElementCount)){var b=document.querySelector("#constructorDiameters");if(b&&b.value)if(b=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListInnerScreenStartSelection&diameter=${b.value}`,b={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(b)}},b=await fetch("/constructor_api/v1/proxy_request/",
b),b.ok||401==b.status)if(b=await b.json(),0===Object.keys(b).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442");else for(let c of b.list)b=document.createElement("option"),b.value=c.Code,b.textContent=c.Value,a.appendChild(b);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: "+b.status)}}
async function get_outershells(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c=document.querySelector("#constructorDiameters");if(c&&c.value)if(c=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListOuterShellStartSelection&diameter=${c.value}`,c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(c)}},c=await fetch("/constructor_api/v1/proxy_request/",
c),c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);else for(let d of c.list)a=document.createElement("option"),a.value=d.Code,a.textContent=d.Value,b.appendChild(a);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: "+c.status)}}
async function get_braids(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c=document.querySelector("#constructorDiameters"),d=document.querySelector("#constructorPressures");if(c&&c.value&&d&&d.value)if(c=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListBraidStartSelection&pressure=${d.value}&diameter=${c.value}`,c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),
Request1C:encodeURI(c)}},c=await fetch("/constructor_api/v1/proxy_request/",c),c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);else for(let e of c.list)a=document.createElement("option"),a.value=e.Code,a.textContent=e.Value,b.appendChild(a);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: "+c.status)}}
async function get_lengths(){let a=document.querySelector("#constructorLengthsHoses");if(!(1<a.childElementCount)){var b={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListLengthsHoses"}};b=await fetch("/constructor_api/v1/proxy_request/",b);if(b.ok||401==b.status)if(b=await b.json(),0===Object.keys(b).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442");
else for(let c of b.list)b=document.createElement("option"),b.value=c.Code,b.textContent=c.Value,a.appendChild(b);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP lengths: "+b.status)}}
async function get_materials(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListMaterials"}};c=await fetch("/constructor_api/v1/proxy_request/",c);if(c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);
else for(let d of c.list)a=document.createElement("option"),a.value=d.Code,a.textContent=d.Value,b.appendChild(a);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP materials: "+c.status)}}
async function get_types_fittings1(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c=document.querySelector("#constructorGroupsEndFittings1"),d=document.querySelector("#constructorDiameters"),e=document.querySelector("#constructorPressures");if(c&&c.value&&d&&d.value&&e&&e.value)if(c=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection&group_code=${c.value}&diameter=${d.value}&pressure=${e.value}`,(d=document.querySelector("#constructorMaterials1"))&&
d.value&&(c+=`&material_code=${d.value}`),c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(c)}},c=await fetch("/constructor_api/v1/proxy_request/",c),c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);else{set_empty_typefitting(b);for(let f of c.list)a=document.createElement("option"),
a.value=f.Code,a.textContent=f.Value,b.appendChild(a)}else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fitting1: "+c.status)}}
async function get_types_fittingsA1(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c=document.querySelector("#constructorGroupsEndFittingsA1"),d=document.querySelector("#constructorDiameters");if(!document.querySelector("#constructorTypeFitting1").value)alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043b\u0435\u0432\u0443\u044e \u043a\u043e\u043d\u0446\u0435\u0432\u0443\u044e \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u0443");else if(c&&
c.value&&d&&d.value)if(c=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection&group_code=${c.value}&diameter=${d.value}`,(d=document.querySelector("#constructorPressures"))&&d.value&&(c+=`&pressure=${d.value}`),(d=document.querySelector("#constructorMaterialsA1"))&&d.value&&(c+=`&material_code=${d.value}`),c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(c)}},
c=await fetch("/constructor_api/v1/proxy_request/",c),c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);else{set_empty_typefitting(b);for(let e of c.list)a=document.createElement("option"),a.value=e.Code,a.textContent=e.Value,b.appendChild(a)}else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fittingA1: "+c.status)}}
async function get_types_fittingsA2(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c=document.querySelector("#constructorGroupsEndFittingsA2"),d=document.querySelector("#constructorDiameters");if(!document.querySelector("#constructorTypeFitting1").value)alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0443\u044e \u043a\u043e\u043d\u0446\u0435\u0432\u0443\u044e \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u0443");
else if(c&&c.value&&d&&d.value)if(c=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection&group_code=${c.value}&diameter=${d.value}`,(d=document.querySelector("#constructorPressures"))&&d.value&&(c+=`&pressure=${d.value}`),(d=document.querySelector("#constructorMaterialsA2"))&&d.value&&(c+=`&material_code=${d.value}`),c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(c)}},
c=await fetch("/constructor_api/v1/proxy_request/",c),c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);else{set_empty_typefitting(b);for(let e of c.list)a=document.createElement("option"),a.value=e.Code,a.textContent=e.Value,b.appendChild(a)}else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fittingA2: "+c.status)}}
async function get_types_fittings2(){var a=this.getAttribute("id");let b=document.querySelector(`#${a}`);if(!(1<b.childElementCount)){var c=document.querySelector("#constructorGroupsEndFittings2"),d=document.querySelector("#constructorDiameters");if(c&&c.value&&d&&d.value)if(c=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection&group_code=${c.value}&diameter=${d.value}`,(d=document.querySelector("#constructorPressures"))&&d.value&&(c+=`&pressure=${d.value}`),(d=document.querySelector("#constructorMaterials2"))&&
d.value&&(c+=`&material_code=${d.value}`),c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(c)}},c=await fetch("/constructor_api/v1/proxy_request/",c),c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);else{set_empty_typefitting(b);for(let e of c.list)a=document.createElement("option"),
a.value=e.Code,a.textContent=e.Value,b.appendChild(a)}else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fitting2: "+c.status)}}
async function get_image_part_of_product(){var a=this.getAttribute("id");let b;var c=document.querySelector("#constructorDiameters").value;let d=void 0;if("constructorCorrugation"===a){b=2;var e="#constructorImg0";var f=document.querySelector(`#${a}`).value}else if("constructorTypeFitting1"===a)b=0,e="#constructorImg1",f=document.querySelector(`#${a}`).value,d=document.querySelector("#constructorGroupsEndFittings1").value;else if("constructorTypeFitting2"===a)b=1,e="#constructorImg2",f=document.querySelector(`#${a}`).value,
d=document.querySelector("#constructorGroupsEndFittings2").value;else if("constructorTypeFittingA1"===a)b=1,e="#constructorImgA1",f=document.querySelector(`#${a}`).value,d=document.querySelector("#constructorGroupsEndFittingsA1").value;else if("constructorTypeFittingA2"===a)b=0,e="#constructorImgA2",f=document.querySelector(`#${a}`).value,d=document.querySelector("#constructorGroupsEndFittingsA2").value;else return;f&&(e=document.querySelector(e),c&&(c=`http://62.133.174.3:8081/UT_RZM/hs/api?metod=getImagePartOfProduct&position_image_code=${b}`+
`&diameter=${c}`,d&&(c+=`&group_product_code=${d}`),f&&(c+=`&typefitting_code=${f}`),c+="&get_image=1",f={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(c)}},f=await fetch("/constructor_api/v1/proxy_request/",f),f.ok||401==f.status?null===f.headers.get("Content-Disposition")?(f=await f.json(),"constructorCorrugation"!==a&&e.setAttribute("src",""),0===Object.keys(f).length&&console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${b}`)):
(a=await f.blob(),a=URL.createObjectURL(a),e.setAttribute("src",a),URL.revokeObjectURL(a)):console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP get_image_part_of_product: ${f.status}`)))}function clear_image(a){document.querySelector(a).setAttribute("src","")}
function copy_from_K1(){var a=document.querySelector("#constructorGroupsEndFittingsA2");a.innerHTML=document.querySelector("#constructorGroupsEndFittingsA1").innerHTML;a.value=document.querySelector("#constructorGroupsEndFittingsA1").value;a=document.querySelector("#constructorMaterialsA2");a.innerHTML=document.querySelector("#constructorMaterialsA1").innerHTML;a.value=document.querySelector("#constructorMaterialsA1").value;a=document.querySelector("#constructorTypeFittingA2");a.innerHTML=document.querySelector("#constructorTypeFittingA1").innerHTML;
a.value=document.querySelector("#constructorTypeFittingA1").value;a.dispatchEvent(new Event("change"))}
function clear_form(){clear_image("#constructorImg1");clear_image("#constructorImg2");clear_image("#constructorImgA1");clear_image("#constructorImgA2");set_empty_innerscreen(document.querySelector("#constructorInnerScreen"));set_empty_outershells(document.querySelector("#constructorOuterShells"));set_empty_braids(document.querySelector("#constructorBraids"));set_empty_typefitting(document.querySelector("#constructorTypeFitting1"));set_empty_typefitting(document.querySelector("#constructorTypeFitting2"));
set_empty_typefitting(document.querySelector("#constructorTypeFittingA1"));set_empty_typefitting(document.querySelector("#constructorTypeFittingA2"));set_empty_fittings(document.querySelector("#constructorGroupsEndFittings1"));set_empty_fittings(document.querySelector("#constructorGroupsEndFittings2"));set_empty_fittings(document.querySelector("#constructorGroupsEndFittingsA1"));set_empty_fittings(document.querySelector("#constructorGroupsEndFittingsA2"));set_empty_materials(document.querySelector("#constructorMaterials1"));
set_empty_materials(document.querySelector("#constructorMaterials2"));set_empty_materials(document.querySelector("#constructorMaterialsA1"));set_empty_materials(document.querySelector("#constructorMaterialsA2"));set_empty_corrugation(document.querySelector("#constructorCorrugation"));set_empty_pressures(document.querySelector("#constructorPressures"))}
async function create_product(){var a={},b=document.querySelector("#constructorTypes").value,c=document.querySelector("#constructorPressures").value,d=document.querySelector("#constructorDiameters").value,e=document.querySelector("#constructorLengthsHoses").value,f=document.querySelector("#constructorCorrugation").value,g=document.querySelector("#constructorBraids").value;b?(a.product_type_code=b,c?(a.pressure=c,d?(a.diameter=d,e?(a.length=e,g?(a.braid_code=g,f?(a.corrugation_code=f,b=document.querySelector("#constructorInnerScreen").value,
c=document.querySelector("#constructorOuterShells").value,d=document.querySelector("#constructorTypeFitting1").value,e=document.querySelector("#constructorTypeFitting2").value,f=document.querySelector("#constructorTypeFittingA1").value,g=document.querySelector("#constructorTypeFittingA2").value,a.innerscreen_code=b?b:"0",a.outershells_code=c?c:"0",a.typefitting1_code=d?d:"0",a.typefitting2_code=e?e:"0",a.typefittingadd1_code=f?f:"0",a.typefittingadd2_code=g?g:"0",a={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",
"X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=createProduct"},body:JSON.stringify(a)},a=await fetch("/constructor_api/v1/proxy_request/",a),a.ok||401==a.status?(a=await a.json(),b=document.querySelector("#constructorOrderForModal"),c=document.querySelector("#constructorNameProduct"),"0"===a.id?(c.textContent="",b.removeAttribute("data-shop-product-pk")):(c.textContent=a.Value,b.setAttribute("data-shop-product-pk",
a.id),b.getAttribute("data-shop-product-pk")&&b.dispatchEvent(new Event("click")))):console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP createProduct: "+a.status)):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0413\u043e\u0444\u0440\u0430")):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u041e\u043f\u043b\u0435\u0442\u043a\u0430")):
alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0414\u043b\u0438\u043d\u0430")):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0414\u0438\u0430\u043c\u0435\u0442\u0440")):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435")):
alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0422\u0438\u043f \u0438\u0437\u0434\u0435\u043b\u0438\u044f")};