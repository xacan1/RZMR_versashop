'use strict';window.addEventListener("load",elements_listener());function get_cookie(b){return(b=document.cookie.match(new RegExp("(?:^|; )"+b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(b[1]):void 0}
async function elements_listener(){set_default_group_fittings();var b=document.querySelector("#constructorCorrugation");set_empty_corrugation(b);(b=document.querySelector("#constructorTypes"))&&b.addEventListener("mousedown",get_types);if(b=document.querySelector("#constructorGroupsEndFittings1"))b.addEventListener("mousedown",get_groups_and_fittings),b.addEventListener("change",()=>{var a=document.querySelector("#constructorTypeFitting1");set_empty_typefitting(a);clear_image("#constructorImg1");
a=document.querySelector("#constructorTypeFittingA1");set_empty_typefitting(a);clear_image("#constructorImgA1");get_types_fittings1()});if(b=document.querySelector("#constructorGroupsEndFittings2"))b.addEventListener("mousedown",get_groups_and_fittings),b.addEventListener("change",()=>{var a=document.querySelector("#constructorTypeFitting2");set_empty_typefitting(a);clear_image("#constructorImg2");a=document.querySelector("#constructorTypeFittingA2");set_empty_typefitting(a);clear_image("#constructorImgA2");
get_types_fittings2()});if(b=document.querySelector("#constructorGroupsEndFittingsA1"))b.addEventListener("mousedown",get_groups_and_fittings),b.addEventListener("change",()=>{let a=document.querySelector("#constructorTypeFittingA1");set_empty_typefitting(a);clear_image("#constructorImgA1");get_types_fittingsA1()});if(b=document.querySelector("#constructorGroupsEndFittingsA2"))b.addEventListener("mousedown",get_groups_and_fittings),b.addEventListener("change",()=>{let a=document.querySelector("#constructorTypeFittingA2");
set_empty_typefitting(a);clear_image("#constructorImgA2");get_types_fittingsA2()});if(b=document.querySelector("#constructorDiameters"))b.addEventListener("mousedown",get_diameters),b.addEventListener("change",()=>{set_empty_typefitting(document.querySelector("#constructorTypeFitting1"));clear_image("#constructorImg1");set_empty_typefitting(document.querySelector("#constructorTypeFitting2"));clear_image("#constructorImg2");set_empty_pressures(document.querySelector("#constructorPressures"));set_empty_innerscreen(document.querySelector("#constructorInnerScreen"));
set_empty_braids(document.querySelector("#constructorBraid"));set_empty_corrugation(document.querySelector("#constructorCorrugation"));get_pressures();get_corrugation();get_braid();get_innerscreen();get_outershells()});if(b=document.querySelector("#constructorPressures"))b.addEventListener("mousedown",get_pressures),b.addEventListener("change",()=>{set_empty_typefitting(document.querySelector("#constructorTypeFitting1"));clear_image("#constructorImg1");set_empty_typefitting(document.querySelector("#constructorTypeFitting2"));
clear_image("#constructorImg2");set_empty_typefitting(document.querySelector("#constructorTypeFittingA1"));set_empty_typefitting(document.querySelector("#constructorTypeFittingA2"));set_empty_braids(document.querySelector("#constructorBraid"));set_empty_corrugation(document.querySelector("#constructorCorrugation"));get_corrugation();get_braid()});(b=document.querySelector("#constructorCorrugation"))&&b.addEventListener("change",get_image_part_of_product);(b=document.querySelector("#constructorLengthsHoses"))&&
b.addEventListener("mousedown",get_lengths);(b=document.querySelector("#constructorInnerScreen"))&&b.addEventListener("mousedown",get_innerscreen);(b=document.querySelector("#constructorOuterShells"))&&b.addEventListener("mousedown",get_outershells);(b=document.querySelector("#constructorBraid"))&&b.addEventListener("mousedown",get_braid);if(b=document.querySelector("#constructorMaterials1"))b.addEventListener("mousedown",get_materials),b.addEventListener("change",()=>{let a=document.querySelector("#constructorTypeFitting1");
set_empty_typefitting(a);get_types_fittings1();clear_image("#constructorImg1")});if(b=document.querySelector("#constructorMaterials2"))b.addEventListener("mousedown",get_materials),b.addEventListener("change",()=>{let a=document.querySelector("#constructorTypeFitting2");set_empty_typefitting(a);get_types_fittings2();clear_image("#constructorImg2")});if(b=document.querySelector("#constructorMaterialsA1"))b.addEventListener("mousedown",get_materials),b.addEventListener("change",()=>{let a=document.querySelector("#constructorTypeFittingA1");
set_empty_typefitting(a);get_types_fittingsA1();clear_image("#constructorImgA1")});if(b=document.querySelector("#constructorMaterialsA2"))b.addEventListener("mousedown",get_materials),b.addEventListener("change",()=>{let a=document.querySelector("#constructorTypeFittingA2");set_empty_typefitting(a);get_types_fittingsA2();clear_image("#constructorImgA2")});if(b=document.querySelector("#constructorTypeFitting1"))b.addEventListener("mousedown",get_types_fittings1),b.addEventListener("change",get_image_part_of_product);
if(b=document.querySelector("#constructorTypeFitting2"))b.addEventListener("mousedown",get_types_fittings2),b.addEventListener("change",get_image_part_of_product);if(b=document.querySelector("#constructorTypeFittingA1"))b.addEventListener("mousedown",get_types_fittingsA1),b.addEventListener("change",get_image_part_of_product);if(b=document.querySelector("#constructorTypeFittingA2"))b.addEventListener("mousedown",get_types_fittingsA2),b.addEventListener("change",get_image_part_of_product);(b=document.querySelector("#constructorCopy1"))&&
b.addEventListener("click",copy_from1);(b=document.querySelector("#constructorCopyA1"))&&b.addEventListener("click",copy_fromA1);(b=document.querySelector("#constructorClearForm"))&&b.addEventListener("click",clear_form);(b=document.querySelector("#constructorOrder"))&&b.addEventListener("click",create_product)}
function set_default_group_fittings(){let b=document.querySelector("#constructorGroupsEndFittings1"),a=document.querySelector("#constructorGroupsEndFittings2");for(let c of b.children)if("\u0423\u0422000006343"===c.value){b.value=c.value;b.dispatchEvent(new Event("change"));break}for(let c of a.children)if("\u0423\u0422000006343"===c.value){a.value=c.value;a.dispatchEvent(new Event("change"));break}}
function set_empty_pressures(b){b.innerHTML="";let a=document.createElement("option");a.value="";a.textContent="- \u0420\u0430\u0431\u043e\u0447\u0435\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435, PN(\u0411\u0430\u0440) -";b.appendChild(a)}function set_empty_braids(b){b.innerHTML="";let a=document.createElement("option");a.value="";a.textContent="- \u041e\u043f\u043b\u0435\u0442\u043a\u0430 -";b.appendChild(a)}
function set_empty_outershells(b){b.innerHTML="";let a=document.createElement("option");a.value="";a.textContent="- \u041d\u0430\u0440\u0443\u0436\u043d\u0430\u044f \u043e\u0431\u043e\u043b\u043e\u0447\u043a\u0430 -";b.appendChild(a)}function set_empty_innerscreen(b){b.innerHTML="";let a=document.createElement("option");a.value="";a.textContent="- \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u044d\u043a\u0440\u0430\u043d -";b.appendChild(a)}
function set_empty_corrugation(b){b.innerHTML=""}function set_empty_typefitting(b){b.innerHTML="";let a=document.createElement("option");a.value="";a.textContent="- \u0422\u0438\u043f \u043a\u043e\u043d\u0446\u0435\u0432\u043e\u0439 \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u044b -";b.appendChild(a)}
function set_empty_fittings(b){b.innerHTML="";let a=document.createElement("option");a.value="";a.textContent="- \u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043e\u043d\u0446\u0435\u0432\u043e\u0439 \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u044b -";b.appendChild(a)}function set_empty_materials(b){b.innerHTML="";let a=document.createElement("option");a.value="";a.textContent="- \u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b -";b.appendChild(a)}
async function get_types(){var b=this.getAttribute("id");let a=document.querySelector(`#${b}`);if(!(0<a.childElementCount)){var c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListProductType"}};c=await fetch("/constructor_api/v1/proxy_request/",c);if(c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${b}`);
else for(let d of c.list)b=document.createElement("option"),b.value=d.Code,b.textContent=d.Value,a.appendChild(b);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP types: ${c.status}`)}}
async function get_groups_and_fittings(){var b=this.getAttribute("id");let a=document.querySelector(`#${b}`);if(!(1<a.childElementCount)){var c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListGroupsEndFittings"}};c=await fetch("/constructor_api/v1/proxy_request/",c);if(c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${b}`);
else for(let d of c.list)b=document.createElement("option"),b.value=d.Code,b.textContent=d.Value,a.appendChild(b);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP groups_and_fittings ${b}: ${c.status}`)}}
async function get_diameters(){let b=document.querySelector("#constructorDiameters");if(!(1<b.childElementCount)){var a={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListDiameters"}};a=await fetch("/constructor_api/v1/proxy_request/",a);if(a.ok||401==a.status)if(a=await a.json(),0===Object.keys(a).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442");
else for(let c of a.list)a=document.createElement("option"),a.value=c.Code,a.textContent=c.Value,b.appendChild(a);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP diameters: "+a.status)}}
async function get_pressures(){let b=document.querySelector("#constructorPressures");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorDiameters");if(a&&a.value)if(a="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListPressureHoseStartSelection"+`&diameter=${a.value}`,a={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:a}},a=await fetch("/constructor_api/v1/proxy_request/",
a),a.ok||401==a.status)if(a=await a.json(),0===Object.keys(a).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442");else for(let c of a.list)a=document.createElement("option"),a.value=c.Code,a.textContent=c.Value,b.appendChild(a);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: ${a.status}`)}}
async function get_corrugation(){let b=document.querySelector("#constructorCorrugation");if(!(0<b.childElementCount)){var a=document.querySelector("#constructorDiameters").value,c=document.querySelector("#constructorPressures").value,d="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getCorrugation";a&&c&&(d+=`&diameter=${a}&pressure=${c}`);a={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(d)}};
a=await fetch("/constructor_api/v1/proxy_request/",a);a.ok||401==a.status?(a=await a.json(),0===Object.keys(a).length?console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0432 #constructorCorrugation"):"0"!==a.Code&&(c=document.createElement("option"),c.value=a.Code,c.textContent=a.Value,b.appendChild(c),b.dispatchEvent(new Event("change")))):console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: ${a.status}`)}}
async function get_innerscreen(){let b=document.querySelector("#constructorInnerScreen");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorDiameters");if(a&&a.value)if(a="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListInnerScreenStartSelection"+`&diameter=${a.value}`,a={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(a)}},a=await fetch("/constructor_api/v1/proxy_request/",
a),a.ok||401==a.status)if(a=await a.json(),0===Object.keys(a).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorInnerScreen");else for(let c of a.list)a=document.createElement("option"),a.value=c.Code,a.textContent=c.Value,b.appendChild(a);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: ${a.status}`)}}
async function get_outershells(){let b=document.querySelector("#constructorOuterShells");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorDiameters");if(a&&a.value)if(a="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListOuterShellStartSelection"+`&diameter=${a.value}`,a={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(a)}},a=await fetch("/constructor_api/v1/proxy_request/",
a),a.ok||401==a.status)if(a=await a.json(),0===Object.keys(a).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorOuterShells");else for(let c of a.list)a=document.createElement("option"),a.value=c.Code,a.textContent=c.Value,b.appendChild(a);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: ${a.status}`)}}
async function get_braid(){let b=document.querySelector("#constructorBraid");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorDiameters"),c=document.querySelector("#constructorPressures");a&&a.value&&c&&c.value&&(a="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getBraid"+`&diameter=${a.value}&pressure=${c.value}`,a={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(a)}},
a=await fetch("/constructor_api/v1/proxy_request/",a),a.ok||401==a.status?(a=await a.json(),0===Object.keys(a).length?console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorBraid"):"0"!==a.Code&&(c=document.createElement("option"),c.value=a.Code,c.textContent=a.Value,b.appendChild(c),b.value=c.value,b.dispatchEvent(new Event("change")))):console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP pressures: ${a.status}`))}}
async function get_lengths(){let b=document.querySelector("#constructorLengthsHoses");if(!(1<b.childElementCount)){var a={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListLengthsHoses"}};a=await fetch("/constructor_api/v1/proxy_request/",a);if(a.ok||401==a.status)if(a=await a.json(),0===Object.keys(a).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorLengthsHoses");
else for(let c of a.list)a=document.createElement("option"),a.value=c.Code,a.textContent=c.Value,b.appendChild(a);else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP lengths: ${a.status}`)}}
async function get_materials(){var b=this.getAttribute("id");let a=document.querySelector(`#${b}`);if(!(1<a.childElementCount)){var c={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListMaterials"}};c=await fetch("/constructor_api/v1/proxy_request/",c);if(c.ok||401==c.status)if(c=await c.json(),0===Object.keys(c).length)console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${b}`);
else for(let d of c.list)b=document.createElement("option"),b.value=d.Code,b.textContent=d.Value,a.appendChild(b);else console.log("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP materials: "+c.status)}}
async function get_types_fittings1(){let b=document.querySelector("#constructorTypeFitting1");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorGroupsEndFittings1"),c=document.querySelector("#constructorDiameters"),d="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection";if(a&&a.value)if(c&&c.value)if(d+=`&group_code=${a.value}&diameter=${c.value}`,(a=document.querySelector("#constructorPressures"))&&a.value&&(d+=`&pressure=${a.value}`),(a=document.querySelector("#constructorMaterials1"))&&
a.value&&(d+=`&material_code=${a.value}`),d={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(d)}},d=await fetch("/constructor_api/v1/proxy_request/",d),d.ok||401==d.status)if(d=await d.json(),0===Object.keys(d).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorTypeFitting1");else{set_empty_typefitting(b);for(let e of d.list)d=
document.createElement("option"),d.value=e.Code,d.textContent=e.Value,b.appendChild(d)}else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fitting1: ${d.status}`);else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0439 \u0434\u0438\u0430\u043c\u0435\u0442\u0440, DN(\u043c\u043c)");else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0413\u0440\u0443\u043f\u043f\u0443 \u043a\u043e\u043d\u0446\u0435\u0432\u043e\u0439 \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u044b \u0434\u043b\u044f \u041a\u04101")}}
async function get_types_fittings2(){let b=document.querySelector("#constructorTypeFitting2");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorGroupsEndFittings2"),c=document.querySelector("#constructorDiameters"),d="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection";if(a&&a.value)if(c&&c.value)if(d+=`&group_code=${a.value}&diameter=${c.value}`,(a=document.querySelector("#constructorPressures"))&&a.value&&(d+=`&pressure=${a.value}`),(a=document.querySelector("#constructorMaterials2"))&&
a.value&&(d+=`&material_code=${a.value}`),d={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(d)}},d=await fetch("/constructor_api/v1/proxy_request/",d),d.ok||401==d.status)if(d=await d.json(),0===Object.keys(d).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorTypeFitting2");else{set_empty_typefitting(b);for(let e of d.list)d=
document.createElement("option"),d.value=e.Code,d.textContent=e.Value,b.appendChild(d)}else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fitting2: ${d.status}`);else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0439 \u0434\u0438\u0430\u043c\u0435\u0442\u0440, DN(\u043c\u043c)");else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0413\u0440\u0443\u043f\u043f\u0443 \u043a\u043e\u043d\u0446\u0435\u0432\u043e\u0439 \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u044b \u0434\u043b\u044f \u041a\u04102")}}
async function get_types_fittingsA1(){let b=document.querySelector("#constructorTypeFittingA1");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorGroupsEndFittingsA1"),c=document.querySelector("#constructorDiameters"),d=document.querySelector("#constructorTypeFitting1"),e="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection";if(d&&d.value)if(a&&a.value)if(c&&c.value)if(e+=`&group_code=${a.value}&diameter=${c.value}`,(a=document.querySelector("#constructorPressures"))&&
a.value&&(e+=`&pressure=${a.value}`),(a=document.querySelector("#constructorMaterialsA1"))&&a.value&&(e+=`&material_code=${a.value}`),e={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(e)}},e=await fetch("/constructor_api/v1/proxy_request/",e),e.ok||401==e.status)if(e=await e.json(),0===Object.keys(e).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorTypeFittingA1");
else{set_empty_typefitting(b);for(let f of e.list)e=document.createElement("option"),e.value=f.Code,e.textContent=f.Value,b.appendChild(e)}else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fittingA1: ${e.status}`);else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0439 \u0434\u0438\u0430\u043c\u0435\u0442\u0440, DN(\u043c\u043c)");else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u041e\u0442\u0432\u0435\u0442\u043d\u044b\u0445 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u043a \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u0435 1");
else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043b\u0435\u0432\u0443\u044e \u043a\u043e\u043d\u0446\u0435\u0432\u0443\u044e \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u0443 (\u041a\u04101)")}}
async function get_types_fittingsA2(){let b=document.querySelector("#constructorTypeFittingA2");if(!(1<b.childElementCount)){var a=document.querySelector("#constructorGroupsEndFittingsA2"),c=document.querySelector("#constructorDiameters"),d=document.querySelector("#constructorTypeFitting1"),e="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getListTypeFittingStartSelection";if(d&&d.value)if(a&&a.value)if(c&&c.value)if(e+=`&group_code=${a.value}&diameter=${c.value}`,(a=document.querySelector("#constructorPressures"))&&
a.value&&(e+=`&pressure=${a.value}`),(a=document.querySelector("#constructorMaterialsA2"))&&a.value&&(e+=`&material_code=${a.value}`),e={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(e)}},e=await fetch("/constructor_api/v1/proxy_request/",e),e.ok||401==e.status)if(e=await e.json(),0===Object.keys(e).length)console.log("\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f constructorTypeFittingA2");
else{set_empty_typefitting(b);for(let f of e.list)e=document.createElement("option"),e.value=f.Code,e.textContent=f.Value,b.appendChild(e)}else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP select_type_fittingA2: ${e.status}`);else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0439 \u0434\u0438\u0430\u043c\u0435\u0442\u0440, DN(\u043c\u043c)");else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u041e\u0442\u0432\u0435\u0442\u043d\u044b\u0445 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u043a \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u0435 2");
else alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0443\u044e \u043a\u043e\u043d\u0446\u0435\u0432\u0443\u044e \u0430\u0440\u043c\u0430\u0442\u0443\u0440\u0443 (\u041a\u04102)")}}
async function get_image_part_of_product(){var b=this.getAttribute("id");let a=0;var c=void 0,d=void 0,e="";if("constructorCorrugation"===b)a=2,e="#constructorImg0",c=document.querySelector(`#${b}`).value;else if("constructorTypeFitting1"===b)a=0,e="#constructorImg1",c=document.querySelector(`#${b}`).value,d=document.querySelector("#constructorGroupsEndFittings1").value;else if("constructorTypeFitting2"===b)a=1,e="#constructorImg2",c=document.querySelector(`#${b}`).value,d=document.querySelector("#constructorGroupsEndFittings2").value;
else if("constructorTypeFittingA1"===b)a=1,e="#constructorImgA1",c=document.querySelector(`#${b}`).value,d=document.querySelector("#constructorGroupsEndFittingsA1").value;else if("constructorTypeFittingA2"===b)a=0,e="#constructorImgA2",c=document.querySelector(`#${b}`).value,d=document.querySelector("#constructorGroupsEndFittingsA2").value;else return;let f=document.querySelector("#constructorDiameters").value;if(c&&f)if(c="http://62.133.174.3:8081/UT_RZM/hs/api?metod=getImagePartOfProduct"+`&position_image_code=${a}&typefitting_code=${c}&diameter=${f}`,
d&&(c+=`&group_product_code=${d}`),c+="&get_image=1",d={method:"GET",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:encodeURI(c)}},d=await fetch("/constructor_api/v1/proxy_request/",d),d.ok||401==d.status)if(e=document.querySelector(e),null===d.headers.get("Content-Disposition"))d=await d.json(),"constructorCorrugation"!==b&&e.setAttribute("src",""),0===Object.keys(d).length&&console.log(`\u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f ${a}`);
else{b=await d.blob();let g=URL.createObjectURL(b);e.setAttribute("src",g);e.addEventListener("load",h=>{URL.revokeObjectURL(g)},{once:!0})}else console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP get_image_part_of_product: ${d.status}`)}function clear_image(b){document.querySelector(b).setAttribute("src","")}
function copy_from1(){var b=document.querySelector("#constructorGroupsEndFittings2");b.innerHTML=document.querySelector("#constructorGroupsEndFittings1").innerHTML;b.value=document.querySelector("#constructorGroupsEndFittings1").value;b=document.querySelector("#constructorMaterials2");b.innerHTML=document.querySelector("#constructorMaterials1").innerHTML;b.value=document.querySelector("#constructorMaterials1").value;b=document.querySelector("#constructorTypeFitting2");b.innerHTML=document.querySelector("#constructorTypeFitting1").innerHTML;
b.value=document.querySelector("#constructorTypeFitting1").value;b.dispatchEvent(new Event("change"))}
function copy_fromA1(){var b=document.querySelector("#constructorGroupsEndFittingsA2");b.innerHTML=document.querySelector("#constructorGroupsEndFittingsA1").innerHTML;b.value=document.querySelector("#constructorGroupsEndFittingsA1").value;b=document.querySelector("#constructorMaterialsA2");b.innerHTML=document.querySelector("#constructorMaterialsA1").innerHTML;b.value=document.querySelector("#constructorMaterialsA1").value;b=document.querySelector("#constructorTypeFittingA2");b.innerHTML=document.querySelector("#constructorTypeFittingA1").innerHTML;
b.value=document.querySelector("#constructorTypeFittingA1").value;b.dispatchEvent(new Event("change"))}
function clear_form(){clear_image("#constructorImg1");clear_image("#constructorImg2");clear_image("#constructorImgA1");clear_image("#constructorImgA2");set_empty_innerscreen(document.querySelector("#constructorInnerScreen"));set_empty_outershells(document.querySelector("#constructorOuterShells"));set_empty_braids(document.querySelector("#constructorBraid"));set_empty_typefitting(document.querySelector("#constructorTypeFitting1"));set_empty_typefitting(document.querySelector("#constructorTypeFitting2"));
set_empty_typefitting(document.querySelector("#constructorTypeFittingA1"));set_empty_typefitting(document.querySelector("#constructorTypeFittingA2"));set_empty_fittings(document.querySelector("#constructorGroupsEndFittingsA1"));set_empty_fittings(document.querySelector("#constructorGroupsEndFittingsA2"));set_empty_materials(document.querySelector("#constructorMaterials1"));set_empty_materials(document.querySelector("#constructorMaterials2"));set_empty_materials(document.querySelector("#constructorMaterialsA1"));
set_empty_materials(document.querySelector("#constructorMaterialsA2"));set_empty_corrugation(document.querySelector("#constructorCorrugation"));set_empty_pressures(document.querySelector("#constructorPressures"))}
async function create_product(){var b={},a=document.querySelector("#constructorTypes").value,c=document.querySelector("#constructorPressures").value,d=document.querySelector("#constructorDiameters").value,e=document.querySelector("#constructorLengthsHoses").value,f=document.querySelector("#constructorCorrugation").value,g=document.querySelector("#constructorBraid").value;a?(b.product_type_code=a,c?(b.pressure=c,d?(b.diameter=d,e?(b.length=e,g?(b.braid_code=g,f?(b.corrugation_code=f,a=document.querySelector("#constructorInnerScreen").value,
c=document.querySelector("#constructorOuterShells").value,d=document.querySelector("#constructorTypeFitting1").value,e=document.querySelector("#constructorTypeFitting2").value,f=document.querySelector("#constructorTypeFittingA1").value,g=document.querySelector("#constructorTypeFittingA2").value,b.innerscreen_code=a?a:"0",b.outershells_code=c?c:"0",b.typefitting1_code=d?d:"0",b.typefitting2_code=e?e:"0",b.typefittingadd1_code=f?f:"0",b.typefittingadd2_code=g?g:"0",b={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",
"X-Requested-With":"XMLHttpRequest","X-CSRFToken":get_cookie("csrftoken"),Request1C:"http://62.133.174.3:8081/UT_RZM/hs/api?metod=createProduct"},body:JSON.stringify(b)},b=await fetch("/constructor_api/v1/proxy_request/",b),b.ok||401==b.status?(b=await b.json(),a=document.querySelector("#constructorOrderForModal"),c=document.querySelector("#constructorNameProduct"),"0"===b.id?(c.textContent="",a.removeAttribute("data-shop-product-pk")):(c.textContent=b.Value,a.setAttribute("data-shop-product-pk",
b.id),a.getAttribute("data-shop-product-pk")&&a.dispatchEvent(new Event("click")))):console.log(`\u041e\u0448\u0438\u0431\u043a\u0430 HTTP createProduct: ${b.status}`)):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0413\u043e\u0444\u0440\u0430")):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u041e\u043f\u043b\u0435\u0442\u043a\u0430")):
alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0414\u043b\u0438\u043d\u0430")):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0414\u0438\u0430\u043c\u0435\u0442\u0440")):alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435")):
alert("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435: \u0422\u0438\u043f \u0438\u0437\u0434\u0435\u043b\u0438\u044f")};